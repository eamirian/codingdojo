<script>
    /*******************************************************Synergy Marquee(Germany)************************************************************/
    var checkMarqContents = setInterval(function() {
            if ($('div.parbase.section.promotionalMarqueeComponent ').length > 0) { // Check if element has been found

                //-------------------Marque Elements: Update these values------------------------------
                //Marquee Variables
                var marqBackground = '<div class="bg-image" style="background-image: url(&quot;/content/dam/hpe/shared-publishing/base/homepage/marqueeLarge/germany-personalization-pilot-marquee-final.jpg/jcr:content/renditions/image-1x-md&quot;);"> <picture class=" mobile"> <!--[if IE 9]><video style="display: none;"><![endif]--><source data-srcset="/content/dam/hpe/shared-publishing/base/homepage/marqueeLarge/germany-personalization-pilot-marquee-final.jpg/jcr:content/renditions/image-1x-md 1x, /content/dam/hpe/shared-publishing/base/homepage/marqueeLarge/germany-personalization-pilot-marquee-final.jpg/jcr:content/renditions/image-2x-md 2x" media="(min-width: 992px)" srcset="/content/dam/hpe/shared-publishing/base/homepage/marqueeLarge/germany-personalization-pilot-marquee-final.jpg/jcr:content/renditions/image-1x-md 1x, /content/dam/hpe/shared-publishing/base/homepage/marqueeLarge/germany-personalization-pilot-marquee-final.jpg/jcr:content/renditions/image-2x-md 2x"> <source data-srcset="/content/dam/hpe/shared-publishing/base/homepage/marqueeLarge/germany-personalization-pilot-marquee-final.jpg/jcr:content/renditions/image-1x-sm 1x, /content/dam/hpe/shared-publishing/base/homepage/marqueeLarge/germany-personalization-pilot-marquee-final.jpg/jcr:content/renditions/image-2x-sm 2x" media="(min-width: 768px)" srcset="/content/dam/hpe/shared-publishing/base/homepage/marqueeLarge/germany-personalization-pilot-marquee-final.jpg/jcr:content/renditions/image-1x-sm 1x, /content/dam/hpe/shared-publishing/base/homepage/marqueeLarge/germany-personalization-pilot-marquee-final.jpg/jcr:content/renditions/image-2x-sm 2x"> <!--[if IE 9]></video><![endif]--> <!--[if (lte IE 8)]> <img data-sly-test="true" class="img-responsive" src="&#x2f;content&#x2f;dam&#x2f;hpe&#x2f;shared-publishing&#x2f;base&#x2f;homepage&#x2f;marqueeLarge&#x2f;Homepage_PersonalizedMarquees_Servers_2x.md.jpg&#x2f;jcr&#x3a;content&#x2f;renditions/image-1x-md" alt="The Next Frontier of HPC" title="The Next Frontier of HPC" > <!--<![endif]--> <!--[if (gte IE 9)|!(IE)]><!--> <img data-srcset="/content/dam/hpe/shared-publishing/base/homepage/marqueeLarge/germany-personalization-pilot-marquee-final.jpg/jcr:content/renditions/image-1x-xs 1x, /content/dam/hpe/shared-publishing/base/homepage/marqueeLarge/germany-personalization-pilot-marquee-final.jpg/jcr:content/renditions/image-2x-xs 2x" alt="The Next Frontier of HPC" class="img-responsive lazyloaded" style="margin-top: 0px; margin-bottom: 0px" title="The Next Frontier of HPC" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" srcset="/content/dam/hpe/shared-publishing/base/homepage/marqueeLarge/germany-personalization-pilot-marquee-final.jpg/jcr:content/renditions/image-1x-xs 1x, /content/dam/hpe/shared-publishing/base/homepage/marqueeLarge/germany-personalization-pilot-marquee-final.jpg/jcr:content/renditions/image-2x-xs 2x"> <!--<![endif]--> </picture></div>'
                var marqText = '<div data-marquee-animate-type="slide-up" class="animate-me slide-up"><h1 class="title">Was ist HPE Synergy?</h1><div class="description body-copy-large">Eine neue Hybrid-IT-Engine, die sich vollständig anpassen lässt und auf alle künftigen Entwicklungen vorbereitet ist</div></div>'
                var marqPrimButton = '<button type="submit" class="btn-v2 lrg-size btn-submit" data-asset-link="https://www.hpe.com/de/de/resources/integrated-systems/synergy-for-dummies.html?jumpid=in_pers_marq_gr_synergy" data-analytics-action="user.forcelogin" data-analytics-action-name="primary_Synergy Für Dummies jetzt runterladen">Synergy Für Dummies jetzt runterladen</button>'
                var marqPrimAnchor = '<a href="https://www.hpe.com/us/en/resources/servers/exascale-hpc-next-generation.html?jumpid=in_pers_marq_gr_synergy" class="btn-v2 lrg-size btn-submit next-button js-submit-no-form hidden" data-analytics-event="marquee link-track-click" data-analytics-assetname="Synergy Für Dummies jetzt runterladen" data-analytics-action-name="primary_Synergy Für Dummies jetzt runterladen">Synergy Für Dummies jetzt runterladen</a>'
                var marqCta = '<div class="ctas"><div data-marquee-animate-delay="2500" class="cta animate-me fade-in"> <a href="https://www.hpe.com/de/de/integrated-systems/synergy.html?jumpid=in_pers_marq_gr_synergy" data-icon-path="/content/dam/hpe/shared-publishing/homepage2/homepage2-icons/binoculars.svg" class="icon-lnk " data-analytics-event="marquee link-track-click" data-analytics-assetname="Learn More Now" data-analytics-action-name="secondary_Learn More Now"> <span class="icon-wrap "><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-286.7 392.2 11.4 9.6" enable-background="new -286.7 392.2 11.4 9.6" xml:space="preserve" class="icon"> <path d="M-277.9,401.8c-1.4,0-2.5-1.1-2.6-2.4h-1c-0.1,1.3-1.3,2.4-2.6,2.4c-1.5,0-2.6-1.2-2.6-2.6c0-0.5,0.1-0.9,0.3-1.3 c0.3-0.8,1.9-4.5,2.1-4.9c0.4-0.7,1.1-0.7,1.4-0.7c1.3,0,1.4,1,1.4,1.4v0.5h1v-0.6c0-0.4,0.1-1.4,1.4-1.4c0.3,0,1,0,1.4,0.7 c0.2,0.4,1.8,4.1,2.1,4.9c0.2,0.4,0.3,0.8,0.3,1.3C-275.2,400.6-276.4,401.8-277.9,401.8z M-277.9,397.5c-0.9,0-1.7,0.8-1.7,1.7 s0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7c0-0.3-0.1-0.5-0.2-0.8l0,0v-0.1C-276.7,397.8-277.3,397.5-277.9,397.5z M-285.6,398.4 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.9,0.8,1.7,1.7,1.7s1.7-0.8,1.7-1.7s-0.8-1.7-1.7-1.7C-284.7,397.5-285.3,397.8-285.6,398.4 C-285.6,398.3-285.6,398.4-285.6,398.4L-285.6,398.4z M-281.5,398.4h1V395h-1V398.4z M-279.1,393.2c-0.3,0-0.5,0-0.5,0.5v3.5 c0.5-0.4,1-0.6,1.7-0.6c0.3,0,0.5,0,0.7,0.1c-0.6-1.4-1.3-3-1.4-3.2C-278.6,393.2-278.8,393.2-279.1,393.2z M-284.1,396.5 c0.6,0,1.2,0.2,1.7,0.6v-3.5c0-0.4-0.2-0.5-0.5-0.5c-0.3,0-0.4,0-0.5,0.2c-0.1,0.3-0.8,1.8-1.4,3.2 C-284.6,396.6-284.4,396.5-284.1,396.5z"></path> </svg></span> <span class="icon-desc">Ich bin neugierig</span> </a></div><div data-marquee-animate-delay="3000" class="cta animate-me fade-in"> <a href="javascript:void(0)" data-icon-path="/content/dam/hpe/shared-publishing/homepage2/homepage2-icons/video.svg" class="icon-lnk video-overlay" data-attribute-video-id="5229297713001" data-attribute-video-type="youtube" data-attribute-video-title="Jetzt das Kundenvideo mit HudsonAlpha ansehen" data-analytics-event="marquee video-track-click" data-analytics-assetname="Watch the Video" data-analytics-action-name="secondary_Watch the Video"> <span class="icon-wrap "><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-286.8 392.9 11.6 8.2" enable-background="new -286.8 392.9 11.6 8.2" xml:space="preserve" class="icon"> <path d="M-275.2,401.1l-3.8-1.9v1.6h-7.8v-7.6h7.7v1.6l3.8-1.9v8.2H-275.2z M-285.8,399.9h5.8v-5.8h-5.8V399.9z M-279.1,398.1 l2.9,1.4v-5.1l-2.9,1.4V398.1z"></path> </svg></span> <span class="icon-desc">Zum Kundenvideo</span> </a></div></div>'
                    //------------------------------------END------------------------------------------


                //-------------------Marque Selectors: DO NOT TOUCH------------------------------
                //Remove current color classes
                $('div.parbase.section.promotionalMarqueeComponent > div.promotional-marquee').removeClass("right left light dark");

                //Apply appropriate color styling "dark or "light"
                $('div.parbase.section.promotionalMarqueeComponent > div').addClass("left light");

                //Replace background Image
                $("div.parbase.section.promotionalMarqueeComponent > div.promotional-marquee > div.background-wrapper > div.bg-image").replaceWith(marqBackground);

                //Replace Marquee anchor
                $("div.hpe-in-page-form-marquee > form > fieldset > button").replaceWith(marqPrimButton);
                //Replace Marquee button
                $("div.hpe-in-page-form-marquee > form >fieldset > a").replaceWith(marqPrimAnchor);

                //Replace Marquee text 
                $("div.parbase.section.promotionalMarqueeComponent > div.promotional-marquee > div.content-wrapper > div.content > div.inner > div.flex-item> div:first-child").replaceWith(marqText);
                //Replace Marquee CTAs
                $("div.parbase.section.promotionalMarqueeComponent > div > div.content-wrapper > div > div.inner > div.flex-item > div.ctas").replaceWith(marqCta);
                //------------------------------------END------------------------------------------

                //-------------------Transition reinitialization and video event listener------------------------------

                //reinitialize form and video CTA
                $(window).trigger('hpe.personalization.completed', {
                    component: "promotionalMarquee",
                    el: ".promotional-marquee"
                });


                $(window).trigger('hpe.personalization.completed', {
                    component: "videoOverlay",
                    el: ".video-overlay"
                });


                //Reinitialize transitions
                // In order to start animation again we need to hide already animated items if any
                var animatedItems = $('.promotionalMarqueeComponent').find('.slide-up');
                animatedItems = animatedItems.add('.promotionalMarqueeComponent .fade-in');
                animatedItems.removeClass('slide-up fade-in');

                // Than find all items in marquee that should be animated and launch animation
                animatedItems.each(function(index, el) {
                        el = $(el);

                        // Get animation delay from element data-animate-delay property
                        var delay = el.data('marquee-animate-delay') || 0;
                        // Get animation type (css class name) from element data-animate-type property
                        var animationType = el.data('marquee-animate-type') || 'fade-in';

                        // Start animation after delay
                        window.setTimeout(function() {
                            el.addClass(animationType);
                        }, delay);
                    })
                    //------------------------------------END------------------------------------------

                clearInterval(checkMarqContents);
            }
        },
        1000);
</script>